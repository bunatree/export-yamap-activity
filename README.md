# YAMAP Activity Export Tool
## YAMAP の活動日記をエクスポートする Chrome 拡張機能

この Chrome 拡張機能は、YAMAP の活動日記（山行記録）をエクスポートします。

エクスポートされるデータは、シンプルなテキストファイルと写真ファイル (JPEG) をひとつにまとめた ZIP ファイルになります。

活動日記を手軽にバックアップする目的で制作しました。

ブログや他社サービスへの転載にもご利用いただけます。

## 拡張機能のインストール手順

### 1. ダウンロード

下記 URL をクリックして当レポジトリの「main」ブランチを開きます。

[https://github.com/bunatree/yamap-activity-export-tool/tree/main](https://github.com/bunatree/yamap-activity-export-tool/tree/main)

[Code] ボタンをクリックして表示されたメニューの一番下にある [Download ZIP] をクリックします。

当拡張機能の ZIP ファイルのダウンロードが行われます。

ダウンロードした ZIP ファイルを展開し、任意のフォルダにコピーしてください。

### 2. ブラウザへのインストール

Chrome または Edge ブラウザを起動します。

アドレスバーに chrome://extensions/ と入力するか、[設定] (右上の3つのドットアイコン) > [拡張機能] > [拡張機能を管理] を選択し、拡張機能ページを表示します。

当拡張機能の古いバージョンがインストール済みの場合は、先に古いバージョンをアンインストールしてください。

「デベロッパーモード」をオンにします。

「パッケージ化されていない拡張機能を読み込む」をクリックして、当拡張機能をコピーしたフォルダを選択します。

拡張機能のリストに「YAMAP Activity Export Tool」が表示されることを確認します。

ブラウザを再起動します。

## 使い方

ブラウザーで YAMAP の活動日記のページを開き、拡張機能のアイコン（赤い▼アイコン）をクリックすると、「活動日記をエクスポート」というボタンが表示されます。

ボタンがクリックすると、活動日記のデータを取得開始します。データ取得中はボタンの表記が「エクスポート中...」となります。

写真の件数や YAMAP のサーバーの反応速度にもよりますが、取得完了までしばらく時間がかかることがあります。

取得が完了すると ZIP ファイルとしてエクスポート（ダウンロード）されます。

エクスポートされるデータには次のものが含まれます。

- テキストデータ
  - 活動日記のタイトル
  - 活動日記の URL
  - 日付
  - 行動日数
  - 都道府県
  - 地図の名前
  - 移動距離
  - 累積標高（上り、下り）
  - タグ
  - 詳細（感想文）
  - 写真のメモ (テキスト)
- 写真
  - 画像ファイル (JPEG)
  
ZIP ファイルのダウンロードが完了すると、「GPXファイルをエクスポートしますか?」という確認ダイアログが表示されます。

「OK」をクリックすると GPX ファイルのエクスポートを試みますが、次の場合はエクスポートできません。

- 活動日記に GPX ファイルが添付されていない。
- 非プレミアムユーザーが他ユーザーの活動日記から GPX ファイルのエクスポートを試みる。（他ユーザーの活動日記から GPX ファイルをエクスポートするには、プレミアムプランへの加入が必要です。）

## ライセンス

この拡張機能は、次のライブラリや画像を使用しています。

[JSZip ライブラリ](https://stuk.github.io/jszip/ "JSZip") … JSZip は MIT ライセンスで配布されています。

[Triangle icons created by Iconpro86 - Flaticon](https://www.flaticon.com/free-icons/triangle "triangle icons") … Free for personal and commercial purpose with attribution.

## 動作確認

Browser: Google Chrome 128.0.6613.120 (Official Build) (arm64)

OS: macOS バージョン14.6.1（ビルド23G93）

